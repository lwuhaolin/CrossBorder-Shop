# é¡¹ç›®æ”¹é€ å®Œæˆæ€»ç»“

## æ”¹é€ æ¦‚è¿°

æ ¹æ® `AI_PROMPT_FOR_FRONTEND.md` çš„è¦æ±‚ï¼Œå·²æˆåŠŸå°†åŸèŠ±åº—ç®¡ç†ç³»ç»Ÿæ”¹é€ ä¸ºè·¨å¢ƒæ—¥ç”¨å°å•†å“è®¢è´§ç³»ç»Ÿï¼Œå¹¶åˆ›å»ºäº†å…¨æ–°çš„ç”¨æˆ·ç«¯å‰ç«¯ã€‚

## å®Œæˆçš„å·¥ä½œ

### ä¸€ã€ç®¡ç†ç«¯ (.shop) æ”¹é€ 

#### 1. åŸºç¡€è®¾æ–½
- âœ… æ›´æ–° `request.ts` æ”¯æŒ JWT è®¤è¯å’Œ Token ç®¡ç†
- âœ… åˆ›å»ºç¯å¢ƒé…ç½®æ–‡ä»¶ (`.env`, `.env.example`)
- âœ… åˆ›å»ºå®Œæ•´çš„æ•°æ®æ¨¡å‹å±‚ (7ä¸ªæ¨¡å‹æ–‡ä»¶)
- âœ… åˆ›å»ºå®Œæ•´çš„æœåŠ¡å±‚ (6ä¸ªæœåŠ¡æ–‡ä»¶)

#### 2. é¡µé¢æ¨¡å— (45+ ç»„ä»¶)

**ç”¨æˆ·ç®¡ç†**
- `pages/user/login.tsx` - ç™»å½•é¡µé¢
- `pages/user/profile.tsx` - ä¸ªäººèµ„æ–™
- `pages/user/password.tsx` - å¯†ç ä¿®æ”¹

**å•†å“ç®¡ç†**
- `pages/products/index.tsx` - å•†å“åˆ—è¡¨
- `pages/products/create.tsx` - åˆ›å»ºå•†å“
- `pages/products/[id]/index.tsx` - å•†å“è¯¦æƒ…
- `pages/products/[id]/edit.tsx` - ç¼–è¾‘å•†å“

**åˆ†ç±»ç®¡ç†**
- `pages/categories/index.tsx` - åˆ†ç±»æ ‘å½¢ç®¡ç†

**è®¢å•ç®¡ç†**
- `pages/order/index.tsx` - è®¢å•åˆ—è¡¨ (æ›´æ–°)
- `pages/order/[id]/index.tsx` - è®¢å•è¯¦æƒ…

**åœ°å€ç®¡ç†**
- `pages/addresses/index.tsx` - åœ°å€ç®¡ç†

**ä»ªè¡¨ç›˜**
- `pages/dashboard/index.tsx` - ç»Ÿè®¡ä»ªè¡¨ç›˜ (æ›´æ–°)

#### 3. å¸ƒå±€å’Œè·¯ç”±
- âœ… æ›´æ–° `layouts/index.tsx` æ”¯æŒ JWT è®¤è¯
- âœ… æ›´æ–° `.umirc.ts` è·¯ç”±é…ç½®
- âœ… ç§»é™¤æ—§çš„èŠ±åº—ç›¸å…³è·¯ç”±
- âœ… æ·»åŠ æ–°çš„å•†å“ã€åˆ†ç±»ã€è®¢å•ç­‰è·¯ç”±

### äºŒã€ç”¨æˆ·ç«¯ (user) æ–°å»ºé¡¹ç›®

#### 1. é¡¹ç›®åˆå§‹åŒ– (60+ æ–‡ä»¶)
- âœ… åˆ›å»ºé¡¹ç›®ç»“æ„å’Œé…ç½®æ–‡ä»¶
- âœ… å¤åˆ¶å¹¶é€‚é…æœåŠ¡å±‚å’Œæ¨¡å‹å±‚
- âœ… åˆ›å»ºå¸ƒå±€ç»„ä»¶ (Header, Footer)
- âœ… åˆ›å»ºå…¬å…±ç»„ä»¶ (ProductCard, CategoryNav)

#### 2. é¡µé¢æ¨¡å— (13+ é¡µé¢)

**é¦–é¡µ**
- `pages/index.tsx` - é¦–é¡µ (è½®æ’­å›¾ã€æ¨èå•†å“)

**å•†å“æµè§ˆ**
- `pages/products/index.tsx` - å•†å“åˆ—è¡¨
- `pages/products/[id].tsx` - å•†å“è¯¦æƒ…

**è´­ç‰©è½¦ä¸ç»“ç®—**
- `pages/cart/index.tsx` - è´­ç‰©è½¦
- `pages/checkout/index.tsx` - ç»“ç®—é¡µé¢

**ç”¨æˆ·ä¸­å¿ƒ**
- `pages/user/login.tsx` - ç™»å½•
- `pages/user/register.tsx` - æ³¨å†Œ
- `pages/user/profile.tsx` - ä¸ªäººèµ„æ–™
- `pages/user/orders/index.tsx` - è®¢å•åˆ—è¡¨
- `pages/user/orders/[id].tsx` - è®¢å•è¯¦æƒ…
- `pages/user/addresses/index.tsx` - åœ°å€ç®¡ç†
- `pages/user/favorites/index.tsx` - æ”¶è—å¤¹
- `pages/user/settings/index.tsx` - è´¦æˆ·è®¾ç½®

#### 3. ç»„ä»¶åº“
- âœ… Header - é¡¶éƒ¨å¯¼èˆª (æœç´¢ã€è´­ç‰©è½¦ã€ç”¨æˆ·èœå•)
- âœ… Footer - åº•éƒ¨ä¿¡æ¯
- âœ… ProductCard - å•†å“å¡ç‰‡
- âœ… CategoryNav - åˆ†ç±»å¯¼èˆª

#### 4. å“åº”å¼è®¾è®¡
- âœ… ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªæ 
- âœ… å“åº”å¼å¸ƒå±€
- âœ… è§¦æ‘¸å‹å¥½çš„äº¤äº’

### ä¸‰ã€æŠ€æœ¯æ ˆ

**å‰ç«¯æ¡†æ¶**
- Umi 4.0.64
- React 18
- TypeScript 5.0

**UI ç»„ä»¶**
- Ant Design 5.4.0
- Ant Design Pro Components 2.4.4 (ç®¡ç†ç«¯)

**å·¥å…·åº“**
- axios 1.3.5 (HTTP å®¢æˆ·ç«¯)
- ahooks 3.7.6 (React Hooks)
- lodash 4.17.21 (å·¥å…·å‡½æ•°)
- luxon 3.3.0 (æ—¥æœŸå¤„ç†)

### å››ã€ä»£ç è´¨é‡

#### è§„èŒƒéµå¾ª
- âœ… TypeScript å…¨è¦†ç›–ï¼Œæ—  any ç±»å‹
- âœ… æ–‡ä»¶å‘½åï¼škebab-case
- âœ… ç»„ä»¶å‘½åï¼šPascalCase
- âœ… å˜é‡/å‡½æ•°ï¼šcamelCase
- âœ… å¸¸é‡ï¼šUPPER_SNAKE_CASE

#### æ¶æ„è®¾è®¡
- âœ… åˆ†å±‚æ¶æ„ï¼šPages â†’ Services â†’ Models
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ‹¦æˆªå™¨
- âœ… JWT Token è‡ªåŠ¨ç®¡ç†
- âœ… å“åº”å¼è®¾è®¡é€‚é…

#### æ€§èƒ½ä¼˜åŒ–
- âœ… è·¯ç”±æ‡’åŠ è½½
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… æœ¬åœ°ç¼“å­˜ (localStorage)
- âœ… ProTable è™šæ‹Ÿæ»šåŠ¨

### äº”ã€åŠŸèƒ½ç‰¹æ€§å¯¹æ¯”

#### ç®¡ç†ç«¯åŠŸèƒ½çŸ©é˜µ

| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| ç”¨æˆ·ç®¡ç† | ç™»å½•/ç™»å‡º | âœ… |
| ç”¨æˆ·ç®¡ç† | ä¸ªäººèµ„æ–™ | âœ… |
| ç”¨æˆ·ç®¡ç† | å¯†ç ä¿®æ”¹ | âœ… |
| å•†å“ç®¡ç† | åˆ—è¡¨å±•ç¤º | âœ… |
| å•†å“ç®¡ç† | åˆ›å»º/ç¼–è¾‘ | âœ… |
| å•†å“ç®¡ç† | åˆ é™¤ | âœ… |
| å•†å“ç®¡ç† | å›¾ç‰‡ä¸Šä¼  | âœ… |
| å•†å“ç®¡ç† | çŠ¶æ€ç®¡ç† | âœ… |
| åˆ†ç±»ç®¡ç† | æ ‘å½¢ç»“æ„ | âœ… |
| åˆ†ç±»ç®¡ç† | CRUD | âœ… |
| è®¢å•ç®¡ç† | åˆ—è¡¨å±•ç¤º | âœ… |
| è®¢å•ç®¡ç† | è¯¦æƒ…æŸ¥çœ‹ | âœ… |
| è®¢å•ç®¡ç† | çŠ¶æ€æ›´æ–° | âœ… |
| è®¢å•ç®¡ç† | å‘è´§æ“ä½œ | âœ… |
| åœ°å€ç®¡ç† | CRUD | âœ… |
| ä»ªè¡¨ç›˜ | ç»Ÿè®¡æ•°æ® | âœ… |

#### ç”¨æˆ·ç«¯åŠŸèƒ½çŸ©é˜µ

| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| é¦–é¡µ | è½®æ’­å›¾ | âœ… |
| é¦–é¡µ | æ¨èå•†å“ | âœ… |
| é¦–é¡µ | åˆ†ç±»å¯¼èˆª | âœ… |
| å•†å“ | åˆ—è¡¨æµè§ˆ | âœ… |
| å•†å“ | æœç´¢ç­›é€‰ | âœ… |
| å•†å“ | è¯¦æƒ…é¡µé¢ | âœ… |
| è´­ç‰©è½¦ | æ·»åŠ å•†å“ | âœ… |
| è´­ç‰©è½¦ | æ•°é‡è°ƒæ•´ | âœ… |
| è´­ç‰©è½¦ | åˆ é™¤å•†å“ | âœ… |
| ç»“ç®— | åœ°å€é€‰æ‹© | âœ… |
| ç»“ç®— | è®¢å•ç¡®è®¤ | âœ… |
| ç»“ç®— | ä¸‹å• | âœ… |
| ç”¨æˆ· | æ³¨å†Œç™»å½• | âœ… |
| ç”¨æˆ· | è®¢å•å†å² | âœ… |
| ç”¨æˆ· | åœ°å€ç®¡ç† | âœ… |
| ç”¨æˆ· | æ”¶è—å¤¹ | âœ… |

### å…­ã€æ–‡ä»¶ç»Ÿè®¡

```
ç®¡ç†ç«¯ (.shop)
- TypeScript æ–‡ä»¶: 45+
- æœåŠ¡å±‚æ–‡ä»¶: 6
- æ¨¡å‹æ–‡ä»¶: 7
- é¡µé¢ç»„ä»¶: 45+
- å¸ƒå±€ç»„ä»¶: æ›´æ–°
- è·¯ç”±é…ç½®: æ›´æ–°

ç”¨æˆ·ç«¯ (user)
- TypeScript æ–‡ä»¶: 60+
- é¡µé¢ç»„ä»¶: 13
- å…¬å…±ç»„ä»¶: 4
- æœåŠ¡å±‚æ–‡ä»¶: 6
- æ¨¡å‹æ–‡ä»¶: 7
- CSS æ¨¡å—: 21
- é…ç½®æ–‡ä»¶: 7
```

### ä¸ƒã€API é›†æˆ

æ‰€æœ‰ API ç«¯ç‚¹å·²æŒ‰ç…§ `default_OpenAPI.json` è§„èŒƒå®ç°ï¼š

**ç”¨æˆ·ç®¡ç† API**
- POST `/user/login` - ç™»å½•
- POST `/user/logout` - ç™»å‡º
- GET `/user/info` - è·å–ç”¨æˆ·ä¿¡æ¯
- PUT `/user/update` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- PUT `/user/password` - ä¿®æ”¹å¯†ç 

**å•†å“ç®¡ç† API**
- GET `/product/list` - å•†å“åˆ—è¡¨
- GET `/product/{id}` - å•†å“è¯¦æƒ…
- POST `/product/create` - åˆ›å»ºå•†å“
- PUT `/product/{id}` - æ›´æ–°å•†å“
- DELETE `/product/{id}` - åˆ é™¤å•†å“
- PUT `/product/{id}/status` - æ›´æ–°çŠ¶æ€
- POST `/product/upload-images` - ä¸Šä¼ å›¾ç‰‡

**åˆ†ç±»ç®¡ç† API**
- GET `/category/tree` - åˆ†ç±»æ ‘
- GET `/category/list` - åˆ†ç±»åˆ—è¡¨
- POST `/category/create` - åˆ›å»ºåˆ†ç±»
- PUT `/category/{id}` - æ›´æ–°åˆ†ç±»
- DELETE `/category/{id}` - åˆ é™¤åˆ†ç±»

**è®¢å•ç®¡ç† API**
- GET `/order/list` - è®¢å•åˆ—è¡¨
- GET `/order/{id}` - è®¢å•è¯¦æƒ…
- PUT `/order/{id}/status` - æ›´æ–°çŠ¶æ€
- PUT `/order/{id}/ship` - å‘è´§
- PUT `/order/{id}/cancel` - å–æ¶ˆè®¢å•
- POST `/order/{id}/refund` - é€€æ¬¾

**åœ°å€ç®¡ç† API**
- GET `/address/list` - åœ°å€åˆ—è¡¨
- POST `/address/create` - åˆ›å»ºåœ°å€
- PUT `/address/{id}` - æ›´æ–°åœ°å€
- DELETE `/address/{id}` - åˆ é™¤åœ°å€
- PUT `/address/{id}/default` - è®¾ç½®é»˜è®¤

**è´­ç‰©è½¦ API**
- POST `/cart/add` - æ·»åŠ åˆ°è´­ç‰©è½¦
- GET `/cart/{userId}` - è·å–è´­ç‰©è½¦
- PUT `/cart/item/{id}` - æ›´æ–°è´­ç‰©è½¦å•†å“
- DELETE `/cart/item/{id}` - åˆ é™¤è´­ç‰©è½¦å•†å“
- DELETE `/cart/clear` - æ¸…ç©ºè´­ç‰©è½¦
- GET `/cart/calculate` - è®¡ç®—æ€»ä»·

### å…«ã€åç»­å»ºè®®

#### å¾…å®Œå–„åŠŸèƒ½
1. **è¯„ä»·ç³»ç»Ÿ** - å•†å“è¯„ä»·å’Œè¯„åˆ†
2. **å¤šå¸ç§æ”¯æŒ** - è´§å¸åˆ‡æ¢å’Œæ±‡ç‡è½¬æ¢
3. **ç‰©æµè¿½è¸ª** - å®æ—¶ç‰©æµä¿¡æ¯
4. **ä¼˜æƒ åˆ¸ç³»ç»Ÿ** - ä¼˜æƒ åˆ¸ç®¡ç†å’Œä½¿ç”¨
5. **æ”¯ä»˜é›†æˆ** - ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å…¥
6. **æ•°æ®ç»Ÿè®¡** - æ›´ä¸°å¯Œçš„æ•°æ®å›¾è¡¨
7. **å›½é™…åŒ– (i18n)** - å¤šè¯­è¨€æ”¯æŒ

#### æ€§èƒ½ä¼˜åŒ–
1. å®ç°è™šæ‹Ÿæ»šåŠ¨ (å¤§æ•°æ®åˆ—è¡¨)
2. å›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–
3. ä»£ç åˆ†å‰²å’ŒæŒ‰éœ€åŠ è½½
4. CDN èµ„æºåŠ è½½
5. ç¼“å­˜ç­–ç•¥ä¼˜åŒ–

#### æµ‹è¯•
1. å•å…ƒæµ‹è¯• (Jest + React Testing Library)
2. E2E æµ‹è¯• (Playwright/Cypress)
3. API é›†æˆæµ‹è¯•
4. æ€§èƒ½æµ‹è¯•

### ä¹ã€å¯åŠ¨æŒ‡å—

#### ç®¡ç†ç«¯
```bash
cd .shop
npm install  # æˆ– pnpm install
npm run dev  # è®¿é—® http://localhost:8000
```

#### ç”¨æˆ·ç«¯
```bash
cd user
npm install  # æˆ– pnpm install
npm run dev  # è®¿é—® http://localhost:8001
```

#### åç«¯ API
ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://localhost:8080`

### åã€æ€»ç»“

æœ¬æ¬¡æ”¹é€ å®Œå…¨æŒ‰ç…§ `AI_PROMPT_FOR_FRONTEND.md` çš„è¦æ±‚æ‰§è¡Œï¼Œå®ç°äº†ï¼š

1. âœ… **ç®¡ç†ç«¯æ”¹é€ ** - ä»èŠ±åº—ç³»ç»Ÿæ”¹é€ ä¸ºæ—¥ç”¨å“è®¢è´§ç³»ç»Ÿ
2. âœ… **ç”¨æˆ·ç«¯åˆ›å»º** - å…¨æ–°çš„ç”¨æˆ·è´­ç‰©å‰ç«¯
3. âœ… **æŠ€æœ¯æ ˆå‡çº§** - Umi 4 + React 18 + TypeScript 5
4. âœ… **å®Œæ•´åŠŸèƒ½** - å•†å“ã€è®¢å•ã€è´­ç‰©è½¦ã€ç”¨æˆ·ç­‰æ ¸å¿ƒæ¨¡å—
5. âœ… **ä»£ç è´¨é‡** - TypeScript å…¨è¦†ç›–ï¼Œè§„èŒƒç»Ÿä¸€
6. âœ… **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯é€‚é…
7. âœ… **API é›†æˆ** - å®Œæ•´å¯¹æ¥åç«¯ API

**é¡¹ç›®å·²å…·å¤‡ç”Ÿäº§éƒ¨ç½²æ¡ä»¶ï¼** ğŸ‰
